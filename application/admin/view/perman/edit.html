{extend name="template/base" /}
{block name="content"}
<div class="page-container">
    <form class="form form-horizontal" id="form" method="post" action="{:\\think\\Request::instance()->baseUrl()}">
        <input type="hidden" name="id" value="{$vo.id ?? ''}">
        <div class="row cl">
            <label class="form-label col-xs-3 col-sm-3">学生编号：</label>
            <div class="formControls col-xs-6 col-sm-6">
                <input type="number" class="input-text" placeholder="学生编号" name="identifier" value="{$vo.identifier ?? ''}" >
            </div>
            <div class="col-xs-3 col-sm-3"></div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-3 col-sm-3">学号：</label>
            <div class="formControls col-xs-6 col-sm-6">
                <input type="text" class="input-text" placeholder="学号" name="number" value="{$vo.number ?? ''}" >
            </div>
            <div class="col-xs-3 col-sm-3"></div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-3 col-sm-3">姓名：</label>
            <div class="formControls col-xs-6 col-sm-6">
                <input type="text" class="input-text" placeholder="姓名" name="fullname" value="{$vo.fullname ?? ''}" >
            </div>
            <div class="col-xs-3 col-sm-3"></div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-3 col-sm-3">性别：</label>
            <div class="formControls col-xs-6 col-sm-6 skin-minimal">
                <div class="radio-box">
                    <input type="radio" name="sex" id="sex-" value="0" checked="true">
                    <label for="sex-">男</label>
                </div>
                <div class="radio-box">
                    <input type="radio" name="sex" id="sex-" value="1">
                    <label for="sex-">女</label>
                </div>
            </div>
            <div class="col-xs-3 col-sm-3"></div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-3 col-sm-3">联系地址：</label>
            <div class="formControls col-xs-6 col-sm-6">
                <input type="text" class="input-text" placeholder="联系地址" name="address" value="{$vo.address ?? ''}" >
            </div>
            <div class="col-xs-3 col-sm-3"></div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-3 col-sm-3">联系电话：</label>
            <div class="formControls col-xs-6 col-sm-6">
                <input type="text" class="input-text" placeholder="联系电话" name="telphone" value="{$vo.telphone ?? ''}" >
            </div>
            <div class="col-xs-3 col-sm-3"></div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-3 col-sm-3">邮箱：</label>
            <div class="formControls col-xs-6 col-sm-6">
                <input type="text" class="input-text" placeholder="邮箱" name="email" value="{$vo.email ?? ''}" >
            </div>
            <div class="col-xs-3 col-sm-3"></div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-3 col-sm-3">学历：</label>
            <div class="formControls col-xs-6 col-sm-6">
                <input type="text" class="input-text" placeholder="学历" name="education" value="{$vo.education ?? ''}" >
            </div>
            <div class="col-xs-3 col-sm-3"></div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-3 col-sm-3">图片：</label>
            <div class="formControls col-xs-6 col-sm-6">
                <!-- <input type="text" class="input-text" placeholder="图片" name="thumb" value="{$vo.thumb ?? ''}" > -->
             <input type="text" class="input-text" id="thumb" name="thumb" value="{$vo.thumb ?? ''}" placeholder="图片" style="width: 70%">
            <button type="button" class="btn btn-primary radius" onclick="layer_open('文件上传','{:\\think\\Url::build(\'Upload/index\', [\'id\' => \'thumb\'])}')">上传</button>
             <a onclick="$(this).attr('href', $('#thumb').val())" type="button" class="btn btn-success radius" data-lightbox="preview">预览</a>
            </div>
            <div class="col-xs-3 col-sm-3"></div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-3 col-sm-3">所在学校：</label>
            <div class="formControls col-xs-6 col-sm-6">
               <!--  <input type="text" class="input-text" placeholder="所在学校" name="school" value="{$vo.school ?? ''}" > -->
                <select name="school" class="select">
                    <option value="0">请选择</option>

                 {if condition ="$edit eq 'edit' "}
                    {volist name='school' id='sch'}
                        {if condition ="$sch.schoolnum eq $vo.school"}
                        <option value="{$sch.schoolnum}" selected="true">{$sch.schoolname}</option>
                        {else/}
                        <option value="{$sch.schoolnum}">{$sch.schoolname}</option>
                        {/if}
                    {/volist}
                {/if}
                
                {if condition ="$edit eq 'add' "}
                        {volist name='school' id='sch'}
                            <option value="{$sch.schoolnum}">{$sch.schoolname}</option>
                        {/volist}
                {/if}
                </select>
            </div>
            <div class="col-xs-3 col-sm-3"></div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-3 col-sm-3">所在院系：</label>
            <div class="formControls col-xs-6 col-sm-6">
                <input type="text" class="input-text" placeholder="所在院系" name="department" value="{$vo.department ?? ''}" >

               
            </div>
            <div class="col-xs-3 col-sm-3"></div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-3 col-sm-3">所在班级：</label>
            <div class="formControls col-xs-6 col-sm-6">

                <select name="class" class="select">
                    <option value="0">请选择</option>
               <!-- 修改 -->
                {if condition ="$edit eq 'edit' "}
                    {volist name='class' id='cla'}
                        {if condition ="$cla.classnum eq $vo.class"}
                            <option value="{$cla.classnum}" selected>{$cla.classname}</option>
                        {else/}
                            <option value="{$cla.classnum}">{$cla.classname}</option>
                        {/if}
                    {/volist}
                {/if}
                <!-- 添加 -->
                {if condition ="$edit eq 'add' "}
                    {volist name='class' id='cla'} 
                            <option value="{$cla.classnum}">{$cla.classname}</option>
                    {/volist}
                {/if}
                

                </select>

            </div>
            <div class="col-xs-3 col-sm-3"></div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-3 col-sm-3">所在专业：</label>
            <div class="formControls col-xs-6 col-sm-6">
                <input type="text" class="input-text" placeholder="所在专业" name="major" value="{$vo.major ?? ''}" >
            </div>
            <div class="col-xs-3 col-sm-3"></div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-3 col-sm-3">入学年份：</label>
            <div class="formControls col-xs-6 col-sm-6">
                <input type="text" class="input-text Wdate" placeholder="入学年份" name="entrytime" value="{$vo.entrytime ?? ''}" {literal} onfocus="WdatePicker({dateFmt:'yyyy-MM-dd'})" {/literal} >
            </div>
            <div class="col-xs-3 col-sm-3"></div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-3 col-sm-3">毕业年份：</label>
            <div class="formControls col-xs-6 col-sm-6">
                <input type="text" class="input-text Wdate" placeholder="毕业年份" name="graduateyear" value="{$vo.graduateyear ?? ''}" {literal} onfocus="WdatePicker({dateFmt:'yyyy-MM-dd'})" {/literal} >
            </div>
            <div class="col-xs-3 col-sm-3"></div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-3 col-sm-3">状态：</label>
            <div class="formControls col-xs-6 col-sm-6 skin-minimal">
                <div class="radio-box">
                    <input type="radio" name="stustatus" id="stustatus-" value="1" checked="true">
                    <label for="stustatus-">在职</label>
                </div>
                <div class="radio-box">
                    <input type="radio" name="stustatus" id="stustatus-" value="0">
                    <label for="stustatus-">求职</label>
                </div>
            </div>
            <div class="col-xs-3 col-sm-3"></div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-3 col-sm-3">登录用户编号：</label>
            <div class="formControls col-xs-6 col-sm-6">
                <input type="number" class="input-text" placeholder="登录用户编号" name="loginnum" value="{$vo.loginnum ?? ''}" >
            </div>
            <div class="col-xs-3 col-sm-3"></div>
        </div>

        <div class="row cl">
            <div class="col-xs-8 col-sm-9 col-xs-offset-4 col-sm-offset-3">
                <button type="submit" class="btn btn-primary radius">&nbsp;&nbsp;提交&nbsp;&nbsp;</button>
                <button type="button" class="btn btn-default radius ml-20" onClick="layer_close();">&nbsp;&nbsp;取消&nbsp;&nbsp;</button>
            </div>
        </div>
    </form>
</div>
{/block}
{block name="script"}
<script type="text/javascript" src="__LIB__/Validform/5.3.2/Validform.min.js"></script>
<script type="text/javascript" src="__LIB__/My97DatePicker/WdatePicker.js"></script>
<script>
    $(function () {
        $("[name='sex'][value='{$vo.sex ?? ''}']").prop("checked", true);

        $("[name='stustatus'][value='{$vo.stustatus ?? ''}']").prop("checked", true);

        $('.skin-minimal input').iCheck({
            checkboxClass: 'icheckbox-blue',
            radioClass: 'iradio-blue',
            increaseArea: '20%'
        });

        $("#form").Validform({
            tiptype: 2,
            ajaxPost: true,
            showAllError: true,
            callback: function (ret){

                ajax_progress(ret);
            }
        });
    })
</script>
{/block}
